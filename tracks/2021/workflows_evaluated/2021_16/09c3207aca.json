{"macro_topic": "GEO", "topic": "GEO Workflow Series (\"American Architects\")", "worker": "2021_16", "goals": {"1": "Identify the BGP to obtain the notable works of an architect and their location", "2": "Identify the BGP that connect a building with its architect, type, and architectural style", "3": "Which architect is the most prolific in the U.S. and outside?", "4": "Analyze the location of the buildings designed by the american architects", "4.1": "Which styles exists in the U.S.? Which type of building?", "4.2": "In which U.S. states there are more notable buildings?", "4.3": "Which U.S. state contains the largest number of building designed by U.S. architects"}, "name": "09c3207aca", "search_workflow": {"": [{"narrative": "start your workflow here", "query": "SELECT COUNT(*) WHERE { ?p wdt:P27 wd:Q30 . ?p wdt:P106 wd:Q42973 . }", "output": [], "parseError": null, "keywords": {"SELECT": 1, "ASK": 0, "DESCRIBE": 0, "CONSTRUCT": 0, "NESTED QUERY": 0, "DISTINCT": 0, "LIMIT": 0, "OFFSET": 0, "ORDER BY": 0, "FILTER": 0, "REGEX": 0, "AND": 0, "UNION": 0, "OPTIONAL": 0, "GRAPH": 0, "EXISTS": 0, "NOT EXISTS": 0, "MINUS": 0, "COUNT": 1, "MAX": 0, "MIN": 0, "AVG": 0, "SUM": 0, "GROUP BY": 0, "HAVING": 0, "GROUP_CONCAT": 0}, "index": 0}, {"narrative": "first we should find all architect name and check is there Frank Lloyd Wright in the dataset", "query": "SELECT DISTINCT ?architect ?architectName WHERE { ?architect wdt:P106 wd:Q42973 . ?architect <http://schema.org/name> ?architectName . } LIMIT 5", "output": [[["architect", "http://www.wikidata.org/entity/Q30346830"], ["architectName", "Carlos Lamela"]], [["architect", "http://www.wikidata.org/entity/Q5860205"], ["architectName", "Fernando Salvador Carreras"]], [["architect", "http://www.wikidata.org/entity/Q8194957"], ["architectName", "Alexandre Azedo Lacerda"]], [["architect", "http://www.wikidata.org/entity/Q8195105"], ["architectName", "Alfons Mil\u00e0 i Sagnier"]]], "parseError": null, "keywords": {"SELECT": 1, "ASK": 0, "DESCRIBE": 0, "CONSTRUCT": 0, "NESTED QUERY": 0, "DISTINCT": 1, "LIMIT": 1, "OFFSET": 0, "ORDER BY": 0, "FILTER": 0, "REGEX": 0, "AND": 0, "UNION": 0, "OPTIONAL": 0, "GRAPH": 0, "EXISTS": 0, "NOT EXISTS": 0, "MINUS": 0, "COUNT": 0, "MAX": 0, "MIN": 0, "AVG": 0, "SUM": 0, "GROUP BY": 0, "HAVING": 0, "GROUP_CONCAT": 0}, "index": 1}, {"narrative": "we should extract all properties for a specific architect (ex. Frank Lloyd Wright -> wd:Q5604)\nin this code I find that the 'notebale work' ID -> P800", "query": "SELECT DISTINCT ?p ?pName WHERE { wd:Q5604 ?p ?o.FILTER(!isLiteral(?o)). ?p <http://schema.org/name> ?pName . Filter regex(?pName,\"notable\",'i') } LIMIT 5", "output": [], "parseError": null, "keywords": {"SELECT": 1, "ASK": 0, "DESCRIBE": 0, "CONSTRUCT": 0, "NESTED QUERY": 0, "DISTINCT": 1, "LIMIT": 1, "OFFSET": 0, "ORDER BY": 0, "FILTER": 1, "REGEX": 1, "AND": 0, "UNION": 0, "OPTIONAL": 0, "GRAPH": 0, "EXISTS": 0, "NOT EXISTS": 0, "MINUS": 0, "COUNT": 0, "MAX": 0, "MIN": 0, "AVG": 0, "SUM": 0, "GROUP BY": 0, "HAVING": 0, "GROUP_CONCAT": 0}, "index": 2}, {"narrative": "find all notable works and their country (location)", "query": "SELECT DISTINCT ?work ?workName ?locationName WHERE { ?architect wdt:P106 wd:Q42973 ; wdt:P800 ?work. ?work wdt:P17 ?location. ?work <http://schema.org/name> ?workName . ?location <http://schema.org/name> ?locationName } LIMIT 5", "output": [[["work", "http://www.wikidata.org/entity/Q1369314"], ["workName", "Estadio Las Gaunas"], ["locationName", "Spain"]], [["work", "http://www.wikidata.org/entity/Q15885886"], ["workName", "Torre Caja Badajoz"], ["locationName", "Spain"]], [["work", "http://www.wikidata.org/entity/Q24439272"], ["workName", "Edificio Pir\u00e1mide, Madrid"], ["locationName", "Spain"]], [["work", "http://www.wikidata.org/entity/Q26834201"], ["workName", "Edificio Galaxia, Madrid"], ["locationName", "Spain"]]], "parseError": null, "keywords": {"SELECT": 1, "ASK": 0, "DESCRIBE": 0, "CONSTRUCT": 0, "NESTED QUERY": 0, "DISTINCT": 1, "LIMIT": 1, "OFFSET": 0, "ORDER BY": 0, "FILTER": 0, "REGEX": 0, "AND": 0, "UNION": 0, "OPTIONAL": 0, "GRAPH": 0, "EXISTS": 0, "NOT EXISTS": 0, "MINUS": 0, "COUNT": 0, "MAX": 0, "MIN": 0, "AVG": 0, "SUM": 0, "GROUP BY": 0, "HAVING": 0, "GROUP_CONCAT": 0}, "index": 3}, {"narrative": "all notable works and locations for a specific architect name (ex. Frank Lloyd Wright)", "query": "SELECT DISTINCT ?workName ?locationName ?architectName WHERE { ?architect wdt:P106 wd:Q42973 ; wdt:P800 ?work. ?work wdt:P17 ?location. ?work <http://schema.org/name> ?workName . ?architect <http://schema.org/name> ?architectName . ?location <http://schema.org/name> ?locationName Filter regex(?architectName,\"Frank Lloyd Wright\",'i') }", "output": [[["workName", "Pettit Memorial Chapel"], ["locationName", "United States of America"], ["architectName", "Frank Lloyd Wright"]], [["workName", "Solomon R. Guggenheim Museum"], ["locationName", "United States of America"], ["architectName", "Frank Lloyd Wright"]], [["workName", "Fallingwater"], ["locationName", "United States of America"], ["architectName", "Frank Lloyd Wright"]], [["workName", "A. D. German Warehouse"], ["locationName", "United States of America"], ["architectName", "Frank Lloyd Wright"]], [["workName", "Annunciation Greek Orthodox Church"], ["locationName", "United States of America"], ["architectName", "Frank Lloyd Wright"]]], "parseError": null, "keywords": {"SELECT": 1, "ASK": 0, "DESCRIBE": 0, "CONSTRUCT": 0, "NESTED QUERY": 0, "DISTINCT": 1, "LIMIT": 0, "OFFSET": 0, "ORDER BY": 0, "FILTER": 1, "REGEX": 1, "AND": 0, "UNION": 0, "OPTIONAL": 0, "GRAPH": 0, "EXISTS": 0, "NOT EXISTS": 0, "MINUS": 0, "COUNT": 0, "MAX": 0, "MIN": 0, "AVG": 0, "SUM": 0, "GROUP BY": 0, "HAVING": 0, "GROUP_CONCAT": 0}, "index": 4}, {"narrative": "choose a notable work (ex. Pettit Memorial Chapel -> wd:Q2081276) and get all properties\ni found  architect->P84, architectural style->P149, type(instance of)->P31", "query": "SELECT DISTINCT ?p ?pName WHERE { wd:Q2081276 ?p ?o . ?p <http://schema.org/name> ?pName . }", "output": [[["p", "http://www.wikidata.org/prop/direct/P131"], ["pName", "located in the administrative territorial entity"]], [["p", "http://www.wikidata.org/prop/direct/P1435"], ["pName", "heritage designation"]], [["p", "http://www.wikidata.org/prop/direct/P149"], ["pName", "architectural style"]], [["p", "http://www.wikidata.org/prop/direct/P1566"], ["pName", "GeoNames ID"]], [["p", "http://www.wikidata.org/prop/direct/P17"], ["pName", "country"]], [["p", "http://www.wikidata.org/prop/direct/P18"], ["pName", "image"]], [["p", "http://www.wikidata.org/prop/direct/P31"], ["pName", "instance of"]], [["p", "http://www.wikidata.org/prop/direct/P373"], ["pName", "Commons category"]], [["p", "http://www.wikidata.org/prop/direct/P5383"], ["pName", "archINFORM project ID"]], [["p", "http://www.wikidata.org/prop/direct/P646"], ["pName", "Freebase ID"]], [["p", "http://www.wikidata.org/prop/direct/P84"], ["pName", "architect"]], [["p", "http://www.wikidata.org/prop/direct/P910"], ["pName", "topic's main category"]], [["p", "http://www.wikidata.org/prop/direct/P935"], ["pName", "Commons gallery"]]], "parseError": null, "keywords": {"SELECT": 1, "ASK": 0, "DESCRIBE": 0, "CONSTRUCT": 0, "NESTED QUERY": 0, "DISTINCT": 1, "LIMIT": 0, "OFFSET": 0, "ORDER BY": 0, "FILTER": 0, "REGEX": 0, "AND": 0, "UNION": 0, "OPTIONAL": 0, "GRAPH": 0, "EXISTS": 0, "NOT EXISTS": 0, "MINUS": 0, "COUNT": 0, "MAX": 0, "MIN": 0, "AVG": 0, "SUM": 0, "GROUP BY": 0, "HAVING": 0, "GROUP_CONCAT": 0}, "index": 5}, {"narrative": "we find architect->P84 , architectural style->P149, type(instance of)->P31\nfor  notable work (ex. Pettit Memorial Chapel -> wd:Q2081276)", "query": "SELECT DISTINCT ?architectName ?typeName ?styleName WHERE { wd:Q2081276 wdt:P84 ?architect; wdt:P149 ?style; wdt:P31 ?type. ?architect <http://schema.org/name> ?architectName . ?style <http://schema.org/name> ?styleName . ?type <http://schema.org/name> ?typeName }", "output": [], "parseError": null, "keywords": {"SELECT": 1, "ASK": 0, "DESCRIBE": 0, "CONSTRUCT": 0, "NESTED QUERY": 0, "DISTINCT": 1, "LIMIT": 0, "OFFSET": 0, "ORDER BY": 0, "FILTER": 0, "REGEX": 0, "AND": 0, "UNION": 0, "OPTIONAL": 0, "GRAPH": 0, "EXISTS": 0, "NOT EXISTS": 0, "MINUS": 0, "COUNT": 0, "MAX": 0, "MIN": 0, "AVG": 0, "SUM": 0, "GROUP BY": 0, "HAVING": 0, "GROUP_CONCAT": 0}, "index": 6}, {"narrative": "get most prolific architect in the USA", "query": "SELECT DISTINCT ?architectName (COUNT(?work) AS ?howmanywork) WHERE { ?architect wdt:P106 wd:Q42973 ; wdt:P27 wd:Q30 ; wdt:P800 ?work. ?architect <http://schema.org/name> ?architectName. } GROUP BY ?architectName ORDER BY DESC (?howmanywork) LIMIT 5", "output": [[["architectName", "Bruce Price"], ["howmanywork", "17"]], [["architectName", "Cornelia Oberlander"], ["howmanywork", "13"]], [["architectName", "Egerton Swartwout"], ["howmanywork", "11"]], [["architectName", "John Trumbull"], ["howmanywork", "10"]]], "parseError": null, "keywords": {"SELECT": 1, "ASK": 0, "DESCRIBE": 0, "CONSTRUCT": 0, "NESTED QUERY": 0, "DISTINCT": 1, "LIMIT": 1, "OFFSET": 0, "ORDER BY": 1, "FILTER": 0, "REGEX": 0, "AND": 0, "UNION": 0, "OPTIONAL": 0, "GRAPH": 0, "EXISTS": 0, "NOT EXISTS": 0, "MINUS": 0, "COUNT": 1, "MAX": 0, "MIN": 0, "AVG": 0, "SUM": 0, "GROUP BY": 1, "HAVING": 0, "GROUP_CONCAT": 0}, "index": 7}, {"narrative": "get most prolific architect outside the USA", "query": "SELECT DISTINCT ?architectName (COUNT(?work) AS ?howmanywork) WHERE { ?architect wdt:P106 wd:Q42973 ; wdt:P27 ?country ; wdt:P800 ?work. ?architect <http://schema.org/name> ?architectName. ?country <http://schema.org/name> ?countryName. FILTER NOT EXISTS {?architect wdt:P27 wd:Q30.} } GROUP BY ?architectName ORDER BY DESC (?howmanywork) LIMIT 5", "output": [[["architectName", "Norman Foster"], ["howmanywork", "50"]], [["architectName", "Zaha Hadid"], ["howmanywork", "38"]], [["architectName", "Henrik Nissen"], ["howmanywork", "33"]], [["architectName", "Friedrich Gr\u00fcnanger"], ["howmanywork", "32"]]], "parseError": null, "keywords": {"SELECT": 1, "ASK": 0, "DESCRIBE": 0, "CONSTRUCT": 0, "NESTED QUERY": 0, "DISTINCT": 1, "LIMIT": 1, "OFFSET": 0, "ORDER BY": 1, "FILTER": 1, "REGEX": 0, "AND": 0, "UNION": 0, "OPTIONAL": 0, "GRAPH": 0, "EXISTS": 0, "NOT EXISTS": 1, "MINUS": 0, "COUNT": 1, "MAX": 0, "MIN": 0, "AVG": 0, "SUM": 0, "GROUP BY": 1, "HAVING": 0, "GROUP_CONCAT": 0}, "index": 8}, {"narrative": "get all styles in the USA", "query": "SELECT DISTINCT ?styleName ?work WHERE { ?architect wdt:P106 wd:Q42973 ; wdt:P800 ?work. ?work wdt:P17 wd:Q30; wdt:P149 ?style. ?style <http://schema.org/name> ?styleName. } LIMIT 5", "output": [[["styleName", "Greek Revival architecture"], ["work", "http://www.wikidata.org/entity/Q3584637"]], [["styleName", "Stripped Classicism"], ["work", "http://www.wikidata.org/entity/Q11208"]], [["styleName", "Romanesque Revival in America"], ["work", "http://www.wikidata.org/entity/Q74861306"]], [["styleName", "Neoclassical architecture"], ["work", "http://www.wikidata.org/entity/Q673076"]]], "parseError": null, "keywords": {"SELECT": 1, "ASK": 0, "DESCRIBE": 0, "CONSTRUCT": 0, "NESTED QUERY": 0, "DISTINCT": 1, "LIMIT": 1, "OFFSET": 0, "ORDER BY": 0, "FILTER": 0, "REGEX": 0, "AND": 0, "UNION": 0, "OPTIONAL": 0, "GRAPH": 0, "EXISTS": 0, "NOT EXISTS": 0, "MINUS": 0, "COUNT": 0, "MAX": 0, "MIN": 0, "AVG": 0, "SUM": 0, "GROUP BY": 0, "HAVING": 0, "GROUP_CONCAT": 0}, "index": 9}, {"narrative": "get all type of buldings in the USA", "query": "SELECT DISTINCT ?typeName WHERE { ?architect wdt:P106 wd:Q42973 ; wdt:P800 ?work. ?work wdt:P17 wd:Q30; wdt:P31 ?type. ?type <http://schema.org/name> ?typeName. } LIMIT 5", "output": [[["typeName", "government building"]], [["typeName", "sculpture garden"]], [["typeName", "headquarters"]], [["typeName", "neighborhood"]]], "parseError": null, "keywords": {"SELECT": 1, "ASK": 0, "DESCRIBE": 0, "CONSTRUCT": 0, "NESTED QUERY": 0, "DISTINCT": 1, "LIMIT": 1, "OFFSET": 0, "ORDER BY": 0, "FILTER": 0, "REGEX": 0, "AND": 0, "UNION": 0, "OPTIONAL": 0, "GRAPH": 0, "EXISTS": 0, "NOT EXISTS": 0, "MINUS": 0, "COUNT": 0, "MAX": 0, "MIN": 0, "AVG": 0, "SUM": 0, "GROUP BY": 0, "HAVING": 0, "GROUP_CONCAT": 0}, "index": 10}, {"narrative": "find Q35657 to get the name of state of each city", "query": "SELECT DISTINCT ?p ?pName WHERE { ?architect wdt:P106 wd:Q42973 ; wdt:P800 ?work. ?work wdt:P17 wd:Q30; wdt:P131 ?location. ?location ?p ?o.FILTER(!isLiteral(?o)) ?p <http://schema.org/name> ?pName. } LIMIT 5", "output": [[["p", "http://www.wikidata.org/prop/direct/P5353"], ["pName", "school district"]], [["p", "http://www.wikidata.org/prop/direct/P112"], ["pName", "founded by"]], [["p", "http://www.wikidata.org/prop/direct/P1151"], ["pName", "topic's main Wikimedia portal"]], [["p", "http://www.wikidata.org/prop/direct/P131"], ["pName", "located in the administrative territorial entity"]]], "parseError": null, "keywords": {"SELECT": 1, "ASK": 0, "DESCRIBE": 0, "CONSTRUCT": 0, "NESTED QUERY": 0, "DISTINCT": 1, "LIMIT": 1, "OFFSET": 0, "ORDER BY": 0, "FILTER": 0, "REGEX": 0, "AND": 0, "UNION": 0, "OPTIONAL": 0, "GRAPH": 0, "EXISTS": 0, "NOT EXISTS": 0, "MINUS": 0, "COUNT": 0, "MAX": 0, "MIN": 0, "AVG": 0, "SUM": 0, "GROUP BY": 0, "HAVING": 0, "GROUP_CONCAT": 0}, "index": 11}, {"narrative": "get notable buildings in", "query": "SELECT DISTINCT ?locationName (COUNT(?countryName) AS ?howmanywork) WHERE { ?architect wdt:P106 wd:Q42973 ; wdt:P800 ?work. ?work wdt:P17 wd:Q30; wdt:P131 ?location. ?location wdt:P131 ?country. ?location <http://schema.org/name> ?locationName. ?country <http://schema.org/name> ?countryName. } GROUP BY ?locationName ORDER BY DESC (?howmanywork) LIMIT 5", "output": [[["locationName", "Manhattan"], ["howmanywork", "79"]], [["locationName", "Washington, D.C."], ["howmanywork", "47"]], [["locationName", "Chicago"], ["howmanywork", "32"]], [["locationName", "California"], ["howmanywork", "26"]]], "parseError": null, "keywords": {"SELECT": 1, "ASK": 0, "DESCRIBE": 0, "CONSTRUCT": 0, "NESTED QUERY": 0, "DISTINCT": 1, "LIMIT": 1, "OFFSET": 0, "ORDER BY": 1, "FILTER": 0, "REGEX": 0, "AND": 0, "UNION": 0, "OPTIONAL": 0, "GRAPH": 0, "EXISTS": 0, "NOT EXISTS": 0, "MINUS": 0, "COUNT": 1, "MAX": 0, "MIN": 0, "AVG": 0, "SUM": 0, "GROUP BY": 1, "HAVING": 0, "GROUP_CONCAT": 0}, "index": 12}, {"narrative": "get all", "query": "SELECT DISTINCT ?p ?pName WHERE { ?architect wdt:P106 wd:Q42973 ; wdt:P800 ?work. ?work wdt:P17 wd:Q30; wdt:P276 ?s. ?s wdt:P17 ?p. ?p <http://schema.org/name> ?pName. } LIMIT 50", "output": [[["p", "http://www.wikidata.org/entity/Q30"], ["pName", "United States of America"]], [["p", "http://www.wikidata.org/entity/Q34"], ["pName", "Sweden"]]], "parseError": null, "keywords": {"SELECT": 1, "ASK": 0, "DESCRIBE": 0, "CONSTRUCT": 0, "NESTED QUERY": 0, "DISTINCT": 1, "LIMIT": 1, "OFFSET": 0, "ORDER BY": 0, "FILTER": 0, "REGEX": 0, "AND": 0, "UNION": 0, "OPTIONAL": 0, "GRAPH": 0, "EXISTS": 0, "NOT EXISTS": 0, "MINUS": 0, "COUNT": 0, "MAX": 0, "MIN": 0, "AVG": 0, "SUM": 0, "GROUP BY": 0, "HAVING": 0, "GROUP_CONCAT": 0}, "index": 13}]}}